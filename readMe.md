–ß–∏ –∑–∞–≤–∂–¥–∏ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü—ñ—è –≤ NodeJS –Ω–∞ –∫–æ—Ä–∏—Å—Ç—å?

–û–¥–Ω–∏–º —ñ–∑ –º—ñ–Ω—É—Å—ñ–≤ NodeJS - —Ü–µ –æ–¥–Ω–æ–ø–æ—Ç–æ–∫–æ–≤—ñ—Å—Ç—å. Node.js –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –æ–¥–∏–Ω –æ—Å–Ω–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤, —â–æ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–¥—É, —è–∫—â–æ –∑–∞–ø–∏—Ç –≤–∏–º–∞–≥–∞—î –¥–æ–≤–≥–æ—á–∞—Å–Ω–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó –≤–≤–æ–¥—É-–≤–∏–≤–æ–¥—É. –¶–µ –º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–æ–±–ª–µ–º–æ—é –¥–ª—è –¥–æ–¥–∞—Ç–∫—ñ–≤ –∑ –≤–µ–ª–∏–∫–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤, —Ö–æ—á–∞ —Ü–µ –º–æ–∂–Ω–∞ –≤–∏—Ä—ñ—à–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∏—Ö —Å–∏—Å—Ç–µ–º –∞–±–æ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü—ñ—ó.

–û—Ç –∑–∞—Ä–∞–∑ —ñ –ø–æ—â—É–ø–∞—î–º–æ —Ü—é –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü—ñ—é –≤ –¥—ñ–ª—ñ, let‚Äôs go ;)

–í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ Apache Benchmark
brew install siege

–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ –Ω–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç —Ç–∞ —Å—Ç–≤–æ—Ä—é—î–º–æ —Ñ–∞–π–ª index.ts —ñ–∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º –≤–º—ñ—Å—Ç–æ–º:

const cluster = require('cluster');
const http = require('http');
const numCPUs = require('os').cpus().length;

if (cluster.isMaster) {
// Fork workers for each CPU core
for (let i = 0; i < numCPUs; i++) {
cluster.fork();
}
} else {
// Create an HTTP server
http
.createServer((req, res) => {
res.writeHead(200);
res.end("It's ok!");
})
.listen(8000);
}

–ó–∞–ø—É—Å–∫–∞—î–º–æ –Ω–∞—à –±–µ–∫
npm run dev

–í —ñ–Ω—à–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –≤–≤–æ–¥–∏–º–æ –∫–æ–º–∞–Ω–¥—É
ab -n 1000 -c 100 http://localhost:8000/

–î–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç—å –≤—Å—å–æ–≥–æ 1000 –∑–∞–ø–∏—Ç—ñ–≤ –ø–æ 100 –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞ –ø—ñ–¥—Ö—ñ–¥.
–ö–æ–ª–∏ –≤—Å–µ –≤—ñ–¥–ø—Ä–∞—Ü—é—î –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –∑‚Äô—è–≤–∏—Ç—å—Å—è –±–∞–≥–∞—Ç–æ —Ü—ñ–∫–∞–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó.
–ù–µ –≤—ñ–¥–≤–æ–ª—ñ–∫–∞—é—á–∏—Å—å –Ω–∞ –¥–µ—Ç–∞–ª—ñ –∫–æ–º–µ–Ω—Ç—É—î–º–æ –≤—Å–µ —â–æ —Å—Ç–æ—Å—É—î—Ç—å—Å—è ‚Äòcluster‚Äô —Ç–∞ –±–ª–æ–∫ if, —Ç–∞–∫–∏–º —á–∏–Ω–æ–º —â–æ–± –ª–∏—à–∏–≤—Å—è –ª–∏—à–µ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î–º–æ –±–µ–∫. –í –Ω–æ–≤–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –∑–Ω–æ–≤—É –∑–∞–ø—É—Å–∫–∞—î–º–æ –Ω–∞—à —Ç–µ—Å—Ç –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ 1000 –∑–∞–ø–∏—Ç—ñ–≤.

–ü–µ—Ä–Ω—Å–æ–Ω–∞–ª—å–Ω–æ —É –º–µ–Ω–µ –≤–∏–π—à–ª–∞ —Ç–∞–∫–∞ –æ—Ç –∫–∞—Ä—Ç–∏–Ω–∞ üëá

–ö–ª—é—á–æ–≤—ñ –º–µ—Ç—Ä–∏–∫–∏ –≤ –¥–∞–Ω–æ–º—É —Ç–µ—Å—Ç—ñ:

1. Requests per Second (RPS) / –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤ –≤ —Å–µ–∫—É–Ω–¥—É (RPS): –¶—è –º–µ—Ç—Ä–∏–∫–∞ –ø–æ–∫–∞–∑—É—î, —Å–∫—ñ–ª—å–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤ –≤–∞—à —Å–µ—Ä–≤–µ—Ä –∑–º—ñ–≥ –æ–±—Ä–æ–±–∏—Ç–∏ –∑–∞ —Å–µ–∫—É–Ω–¥—É. –ß–∏–º –≤–∏—â–∏–π –ø–æ–∫–∞–∑–Ω–∏–∫ RPS, —Ç–∏–º –∫—Ä–∞—â–µ..
2. Time per Request / –ß–∞—Å –Ω–∞ –∑–∞–ø–∏—Ç: –¶—è –º–µ—Ç—Ä–∏–∫–∞ –ø–æ–∫–∞–∑—É—î —Å–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å, –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–π –¥–ª—è –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—É. –ù–∏–∂—á—ñ –∑–Ω–∞—á–µ–Ω–Ω—è —î –∫—Ä–∞—â–∏–º–∏, —â–æ —Å–≤—ñ–¥—á–∏—Ç—å –ø—Ä–æ —à–≤–∏–¥—à–∏–π —á–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ..
3. Concurrency / –ü–∞—Ä–∞–ª–µ–ª—å–Ω—ñ—Å—Ç—å: –¶–µ —Ä—ñ–≤–µ–Ω—å –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤, –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π –ø—ñ–¥ —á–∞—Å —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è..
4. Complete Requests / –ó–∞–≤–µ—Ä—à–µ–Ω—ñ –∑–∞–ø–∏—Ç–∏: –ö—ñ–ª—å–∫—ñ—Å—Ç—å —É—Å–ø—ñ—à–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤, —è–∫—ñ –±—É–ª–∏ –≤–∏–∫–æ–Ω–∞–Ω—ñ –ø—ñ–¥ —á–∞—Å —Ç–µ—Å—Ç—É.
5. Failed Requests / –ù–µ–≤–¥–∞–ª—ñ –∑–∞–ø–∏—Ç–∏: –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤, —è–∫—ñ –Ω–µ –≤–∏–∫–æ–Ω–∞–ª–∏—Å—è –ø—ñ–¥ —á–∞—Å —Ç–µ—Å—Ç—É.
6. Transfer rate / –®–≤–∏–¥–∫—ñ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö: –®–≤–∏–¥–∫—ñ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö —É –±–∞–π—Ç–∞—Ö –∑–∞ —Å–µ–∫—É–Ω–¥—É.
   –Ø–∫–æ—Å—å —Ç–∞–∫ ü§∑
